[pytest]
# Pytest配置 - 内存优化模式

# 最小化测试并行
addopts =
    # 禁用���件以减少内存占用
    -p no:stepwise
    -p no:warnings
    # 设置超时
    --timeout=30
    # 更激进的垃圾回收
    -ra
    # 简化输出
    --tb=short

# 测试目录
testpaths = tests

# 最小日志级别
log_cli_level = WARNING

# 不捕获输出（减少内存）
capture = no

# 超时设置
timeout = 30

# 每个测试后自动清理
autousefixtures = tests/conftest.py::cleanup
